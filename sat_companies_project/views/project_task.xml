<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <record id="view_task_form2_inherit_2" model="ir.ui.view">
        <field name="name">project.task.form.2.quick_create</field>
        <field name="model">project.task</field>
        <field name="priority">1000</field>
        <field name="inherit_id" ref="industry_fsm.view_task_form2_inherit"/>
        <field name="arch" type="xml">
            <xpath expr="//div[1]" position="replace">
                <field name="overlapping_tasks_users" invisible="True"/>
                <div role="alert" class="alert alert-warning p-3 text-center alert-overflow"
                    attrs="{'invisible': [('overlapping_tasks_users', '=', False)]}">
                    <button name="get_hr_leave_crossing" type="object" class="btn-link pr-1">
                        overlapping tasks
                    </button>
                    <span class="align-middle">for theses employees at the same time.</span>
                </div>
            </xpath>
        </field>
    </record>

    <record id="project_task_inherit_form_view" model="ir.ui.view">
        <field name="name">project.task.form.inherit.view</field>
        <field name="model">project.task</field>
        <field name="inherit_id" ref="project.view_task_form2"/>
        <field name="arch" type="xml">
            
            <xpath expr="//field[@name='user_id']" position="after">
                <field name="users_ids" attrs="{'required': ['|',('planned_date_begin', '!=', False),('planned_date_end', '!=', False)]}" widget="many2many_tags" force_save="1"/>
                <field name="is_late_hours" invisible="1"/>
            </xpath>

            <xpath expr="//sheet" position="before">
                <div class="alert alert-danger" role="alert" style="margin-bottom:0px;"
                        attrs="{'invisible': [('is_late_hours', '!=', True)]}">
                    This ot exceeded the number of planned hours.
                    <bold>
                        <a class="alert-link" role="button">
                            <field name="name" readonly="True"/>
                        </a>
                    </bold>
                </div>
            </xpath>

            <xpath expr="//field[@name='tag_ids']" position="after">
                <field name="check_suscription_recurrent" invisible="1"/>
            </xpath>

            <xpath expr="//form[1]/sheet[1]/notebook[1]" position="inside">
                <page string="Description" name="commercial_description">
                    <group name="principal_group">
                        <field name="comercial_description" attrs="{'readonly': [('origin', '!=', False)]}"/>
                        <field name="origin" invisible="0"/>
                    </group>
                </page>
            </xpath>

            <xpath expr="//form[1]/sheet[1]/group[1]/group[1]/field[@name='user_id']" position="attributes">
                <attribute name="attrs">{}</attribute>
                <attribute name="invisible">1</attribute>
            </xpath>

            <xpath expr="//form[1]/sheet[1]/notebook[1]/page[@name='description_page']" position="attributes">
                <attribute name="string">Observaciones</attribute>
            </xpath>

            <xpath expr="//form/sheet/notebook/page[@name='extra_info']" position="after">
                <page name="description_page" string="Qr Scanner">
                    <field name="pit_confirm" invisible="True"/>
                    <field name="cabin_confirm" invisible="True"/>
                    <field name="machine_confirm" invisible="True"/>
                    <group name="pit_alert_checked" attrs="{'invisible': [('pit_confirm', '!=', True)]}">
                        <div class="alert alert-success" role="alert" style="margin-bottom:10px;font-size: 20px;">
                            <bold>
                                The Pit has been checked
                            </bold>
                        </div>
                    </group>
                    <group name="cabin_alert_checked"  attrs="{'invisible': [('cabin_confirm', '!=', True)]}">
                        <div class="alert alert-success" role="alert" style="margin-bottom:10px;font-size: 20px;">
                            <bold>
                                The Cabin has been checked
                            </bold>
                        </div>
                    </group>
                    <group name="machine_alert_checked"  attrs="{'invisible': [('machine_confirm', '!=', True)]}">
                        <div class="alert alert-success" role="alert" style="margin-bottom:10px;font-size: 20px;">
                            <bold>
                                The Machine has been checked
                            </bold>
                        </div>
                    </group>
                    <group>
                        <field name="qr_scanner" widget="qr_code" options="{'confirm': true, 'select':true, 'mobile_dialog':true}"/>
                        <field name="check_qr_active" invisible="True"/>
                    </group>
                    <footer>
                        <button string="Cancel"
                            class="btn-secondary"
                            special="cancel"/>
                        <button string="Confirm"
                            attrs="{'invisible': [('check_qr_active', '!=', True)]}"
                            name="confirm_check_gadget"
                            type="object"
                            class="oe_highlight"/>
                    </footer>
                </page>
                <page name="task_state" string="Task State">
                    <group>
                        <field name="state_check_qr" widget="statusbar"/>
                    </group>
                    <group>
                        <field name="check_pit" readonly="1"/>
                        <field name="check_cabine" readonly="1"/>
                        <field name="check_machine" readonly="1"/>
                    </group>
                    <group colspan="3">
                        <group colspan="1" col="2">
                            <field name="qr_pit_image" widget="image" style="width: 62mm; height: 62mm;"/>
                            <field name="qr_pit"/>
                        </group>
                        <group colspan="1" col="1">
                            <br></br>
                            <br></br>
                            <span style="padding: 5px; float: left">RAE: <field name="rae_gadget" nolabel="1" readonly="1"/></span>
                            <span style="padding: 5px; float: left">
                                <field name="to_gadget"
                                    nolabel="1"
                                    readonly="1"
                                    options="{'no_open': true, 'no_quick_create': true ,'no_create_edit': true,'no_create':true}"
                                /> Pit</span>
                            <field style="padding: 5px; float: left" name="to_gadget_location" nolabel="1" readonly="1"/>
                            <field style="padding: 5px; float: left" name="delegation_location" nolabel="1" readonly="1"/>
                        </group>
                    </group>
                    <separator/>
                    <group colspan="3">
                        <group colspan="1" col="2">
                            <field name="qr_cabine_image" widget="image" style="width: 62mm; height: 62mm;"/>
                            <field name="qr_cabine"/>
                        </group>
                        <group colspan="1" col="1">
                            <br></br>
                            <br></br>
                            <span style="padding: 5px; float: left">RAE: <field name="rae_gadget" nolabel="1" readonly="1"/></span>
                            <span style="padding: 5px; float: left">
                                <field name="to_gadget"
                                    nolabel="1"
                                    readonly="1"
                                    options="{'no_open': true, 'no_quick_create': true ,'no_create_edit': true,'no_create':true}"
                                    /> Cabine</span>
                            <field style="padding: 5px; float: left" name="to_gadget_location" nolabel="1" readonly="1"/>
                            <field style="padding: 5px; float: left" name="delegation_location" nolabel="1" readonly="1"/>
                        </group>
                    </group>
                    <separator/>
                    <group colspan="3">
                        <group colspan="1" col="2">
                            <field name="qr_machine_image" widget="image" style="width: 62mm; height: 62mm;"/>
                            <field name="qr_machine"/>
                        </group>
                        <group colspan="1" col="1">
                            <br></br>
                            <br></br>
                            <span style="padding: 5px; float: left">RAE: <field name="rae_gadget" nolabel="1" readonly="1"/></span>
                            <span style="padding: 5px; float: left">
                                <field name="to_gadget"
                                    nolabel="1"
                                    readonly="1"
                                    options="{'no_open': true, 'no_quick_create': true ,'no_create_edit': true,'no_create':true}"
                                /> Machine</span>
                            <field style="padding: 5px; float: left" name="to_gadget_location" nolabel="1" readonly="1"/>
                            <field style="padding: 5px; float: left" name="delegation_location" nolabel="1" readonly="1"/>
                        </group>
                    </group>
                </page>
            </xpath>
        </field>
    </record>
    <record id="project_task_inherit_industry_form_view" model="ir.ui.view">
        <field name="name">project.task.industry.form.inherit.view</field>
        <field name="model">project.task</field>
        <field name="inherit_id" ref="sat_companies_industry.view_project_task_sat_companies"/>
        <field name="arch" type="xml">
            <xpath expr="//page[@name='gadgets']/group[1]" position="after">
                <group>
                    <group>
                       
                    </group>

                    <group>
                        
                    </group>
                </group>
            </xpath>
        </field>
    </record>
    <record id="project_task_inherit_industry_form_view" model="ir.ui.view">
        <field name="name">project.task.industry.form.inherit.view</field>
        <field name="model">project.task</field>
        <field name="inherit_id" ref="sat_companies_industry.view_project_task_sat_companies"/>
        <field name="arch" type="xml">
            
            <xpath expr="//field[@name='categ_udn_id']" position="before">
                <field name="ot_type_id" options="{'no_create': True, 'no_create_edit':True}" required="1"/>
                <field name="is_maintenance" invisible="1"/>
                <field name="origin" invisible="1"/>
                <field name="gadgest_contract_type_id" options="{'no_create': True, 'no_create_edit':True}" attrs="{'invisible': [('is_maintenance', '!=', True)]}"/>
            </xpath>

            <xpath expr="//field[(@name='tag_ids')]" position="after">
                <field name="payment_term_ot_id"  options="{'no_create': True, 'no_create_edit':True}"/>
            </xpath>

        </field>
    </record>

    <record id="inherit_view_project_task_one" model="ir.ui.view">
        <field name="name">project.task.form.inherit.view</field>
        <field name="model">project.task</field>
        <field name="inherit_id" ref="project.view_task_form2"/>
        <field name="arch" type="xml">

            <xpath expr="//form[1]/sheet[1]/notebook[1]" position="inside">
                <page string="Transfers" name="transfers" invisible="1">
                    <group>
                        <group name="left">
                            
                        </group>
                        <group name="right">
                            
                        </group>
                        <field name="picking_ids">
                            <tree>
                                <field name="name"/>
                                <field name="picking_type_id"/>
                                <field name="location_id"/>
                                <field name="location_dest_id"/>
                            </tree>
                        </field>
                    </group>
                </page>
            </xpath>

        </field>
    </record>

    <record id="inherit_tree_view_project_task_sat_companies_project" model="ir.ui.view">
        <field name="name">inherit.form.project.task</field>
        <field name="model">project.task</field>
        <field name="inherit_id" ref="industry_fsm.project_task_view_list_fsm"/>
        <field name="arch" type="xml">

            <xpath expr="//field[@name='user_id']" position="replace">
                <field name="users_ids" widget="many2many_tags"/>
            </xpath>

        </field>
    </record>

    <record id="inhertit_view_view_task_form2_inherited" model="ir.ui.view">
        <field name="name">project.task.form</field>
        <field name="model">project.task</field>
        <field name="inherit_id" ref="hr_timesheet.view_task_form2_inherited"/>
        <field name="arch" type="xml">

            <xpath expr="//field[@name='progress']" position="after">
                <field name="calculate_planed_hours" invisible="1"/>
                <field name="progress_calculated" widget="progressbar" invisible="1"/>
                <field name="is_late_hours" invisible="1"/>
            </xpath>

            <xpath expr="//form[1]/sheet[1]/notebook[1]/page[not(@name)][1]/group[1]" position="after">
                <div class="alert alert-danger" role="alert" style="margin-bottom: 20px" attrs="{'invisible': [('is_late_hours', '!=', True)]}">
                    <strong>This ot exceeded the number of planned hours.</strong>
                </div>
                <group name="group_BRr6S">
                    <group>
                        <field name="is_late_hours" invisible="1"/>
                    </group>
                    <group>

                    </group>
                </group>
            </xpath>

        </field>
    </record>
</odoo>    